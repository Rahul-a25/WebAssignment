<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>advance 407-01 Assignment</title>
    <style>
        .container{
    text-align: center;
    margin: auto;
    justify-content: center;
}

body{
    /* background-color:var(--black); */
    background-color: black;
    color:var(--white);
}
#search_result_container{
    font-size: xx-large;
    font-family: monospace;
}
input#search-field{
    width: 210px;
    height: 20px;
}
input#hh{
    height: 27px;
}
:root{
    --black:#c4e5eb;
    --white:white;
    /* --white:#131111; */
}
    </style>
  </head>
  <body>
    <div class="container">
      <h1 style="font-size:50px ; color: white;">
        Emoji-Emoji üîç Application
      </h1>
      <form id="search-form" style="margin: 20px;">
          <input type="text" placeholder="emoji search" id="search-field">
          <input id="hh" type="submit" value="search">
      </form>
      <table id="search_result_container" rules="rows">
          
      </table>
  </div>
  <script src="./emojiList.js"></script>
  <script >
    const autosearch = (e) =>{
    const value=e.target.value;
    displaySearchResults(value);
} 
const displaySearchResults=(searchQuery="")=>{
    const filter=emojiList.filter(e=>{
        if(e.description.indexOf(searchQuery)!==-1){
            return true;
        }
        if(e.aliases.some(elem=>elem.startsWith(searchQuery))){
            return true;
        }

    })
    const parent = document.getElementById("search_result_container");
    parent.innerHTML="";
    filter.forEach((e)=>{
        const new_row=document.createElement("tr");
        const new_emoji=document.createElement("td");
        const new_aliases=document.createElement("td");
        const new_desc=document.createElement("td");
        new_emoji.innerHTML=e.emoji;
        new_aliases.innerHTML=e.aliases.join(",");
        new_desc.innerHTML=e.description;

        new_row.appendChild(new_emoji);
        new_row.appendChild(new_aliases);
        new_row.appendChild(new_desc);
        parent.appendChild(new_row);
    })
}


document.getElementById("search-form").addEventListener("keyup",autosearch);

displaySearchResults();
  </script>
  </body>
</html>